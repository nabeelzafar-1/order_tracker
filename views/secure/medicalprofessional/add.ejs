<%- include('../../includes/header') -%>

<div class="d-flex justify-content-between flex-wrap flex-md nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
  <h1 class="h2">Medical Professional</h1>
  <div class="btn-toolbar mb-2 mb-md 0">
    <div class="btn-group me-2">
      <button class="btn btn-sm btn-outline-secondary">?</button>
    </div>
  </div>
</div>

<div class="col py-3">
  <div class="row">
    <div class="col">
      <nav aria-label="breadcrumb">
        <ol class="breadcrumb">
          <li class="breadcrumb-item"><a href="/">Dashboard</a></li>
          <li class="breadcrumb-item active">New Professional</li>
        </ol>
      </nav>
    </div>
 
  </div>

</div>


<form action="/api/secure/medicalProfessional/add" method="POST">
    <input type="hidden" name="medicalpractice" value="<%= medicalPractice._id %>" >
    <input type="hidden" name="medicalphone" value="<%=medicalPractice.phone%>" >
    <input type="hidden" name="medicalfax" value="<%= medicalPractice.fax %>" >
  <div class="row form-group mb-4">
    <div class="col">
      <label for="name">Practice Name</label>
      <input type="text" class="form-control" id="name" name="name" value="" placeholder="Practice Name" required>
    </div>

    <div class="col">
      <label for="lastName">Last Name</label>
      <input type="text" class="form-control" id="lastName" name="lastName"   placeholder="Last Name" required>
    </div>
  </div>

  <div class="row form-group mb-4">
    <div class="col">
      <label for="email">Email</label>
      <input type="text" class="form-control" id="email" name="email" value="" placeholder="Email" required>
    </div>
    <div class="col">
    <div class="form-group">
      <label for="medProType">MedPro Type</label>
      <select class="form-select" id="medProType" name="medProType">
        <option id="medProType" name="medProType" value="MD/NP">MD/NP</option>
        <option id="medProType" name="medProType"value="Onboarded">PT</option>
        <option id="medProType" name="medProType"value="Nurse">Nurse</option>
        <option id="medProType" name="medProType"value="Admin">Admin</option>
      </select>
    </div>
    </div>
  </div>
  <div class="row form-group mb-4">
    <div class="col">
      <label for="lastRef">Last Ref</label>
      <input type="text" class="form-control" id="lastRef" name="lastRef" value="" placeholder="Last Ref" required>
    </div>
    <div class="col">
      <label for="fax">Fax</label>
      <input type="number" class="form-control" id="fax" name="fax" readonly value="<%=medicalPractice.fax%>" placeholder="Fax" required>
    </div>
  </div>
  <div class="row form-group mb-4">
    <div class="col">
    <div class="form-group">
      <label for="status">Status</label>
      <select class="form-select" id="status" name="status">
        <option id="status" name="status" value="Active">Active</option>
        <option id="status" name="status"value="Onboarded">Onboarded</option>
        <option id="status" name="status"value="Dormant">Dormant</option>
        <option id="status" name="status"value="Removed">Removed</option>
      </select>
    </div>
    </div>
  </div>
  <div class="form-group mb-4">
    <button type="submit" class="btn btn-primary">Add </button>
  </div>

</form>

<div class="table-responsive">

  <div class="table-responsive">

    <table class="table table-striped table-sm">  
      <thead>
        <tr>
          <th scope="col">Name</th>
          <th scope="col">Last Name</th>
          <th scope="col">MedPro Type</th>
          <th scope="col">Email</th>
          <th scope="col">phone</th> 
          <th scope="col">Fax</th>
          <th scope="col">Last Ref</th>
          <th scope="col" class="text-end">Status</th>
        </tr>
      </thead>
  

      <tbody>
        <% medicalProfessional.forEach(element => { %>
          <tr class="align-middle">
            <td><%= element.name %></td>
            <td><%= element.lastName %></td>
            <td><%= element.medProType %></td> 
            <td><%= element.email %></td>
            <td><%= element.phone %></td>
            <td><%= element.fax %></td>
            <td><%= element.lastRef %></td>
            <td><%= element.status %></td>
            <td class="text-end">
  
              <div class="d-flex flex-row justify-content-end gap-2">
  
                <a href="/medicalprofessional/view/<%= element._id %>" type="button" class="btn btn-primary btn-small">
                  <i class="bi bi-eye"></i>
                </a>
                <a href="/medicalpatient/add/<%= element._id %>" type="button"
                  class="btn btn-primary btn-small a">
                  <small>Patient</small>
                </a>
                <a href="/medicalprofessional/edit/<%= element._id %>" type="button" class="btn btn-warning btn-small">
                  <i class="bi bi-pencil"></i>
                </a>
                <a href="/api/secure/medicalProfessional/delete/<%= element._id %>" class="btn btn-danger btn-small">
                    
                  <i class="bi bi-person-x"></i>
                </a>
              </div>
            </td>
          </tr>
        <% }) %>
      </tbody>
    </table>
  </div>
</div>

<%- include('../../includes/footer') -%>